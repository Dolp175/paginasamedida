---
// components/BlogStat.astro
interface Props {
  value: string;
  description: string;
  icon?: string;
  variant?: 'purple' | 'fuchsia' | 'indigo' | 'emerald';
  caption?: string;
}

const { value, description, icon, variant = 'purple', caption } = Astro.props;

const variants = {
  purple: {
    bg: 'bg-purple-50',
    border: 'border-purple-600',
    text: 'text-purple-900',
    accent: 'bg-purple-600',
    iconBg: 'bg-purple-100'
  },
  fuchsia: {
    bg: 'bg-fuchsia-50',
    border: 'border-fuchsia-600',
    text: 'text-fuchsia-900',
    accent: 'bg-fuchsia-600',
    iconBg: 'bg-fuchsia-100'
  },
  indigo: {
    bg: 'bg-indigo-50',
    border: 'border-indigo-600',
    text: 'text-indigo-900',
    accent: 'bg-indigo-600',
    iconBg: 'bg-indigo-100'
  },
  emerald: {
    bg: 'bg-emerald-50',
    border: 'border-emerald-600',
    text: 'text-emerald-900',
    accent: 'bg-emerald-600',
    iconBg: 'bg-emerald-100'
  }
};
---
<div class={`relative ${variants[variant].bg} rounded-2xl my-8 overflow-hidden shadow-md hover:shadow-lg transition-all duration-300`}>
  <!-- Franja lateral -->
  <div class={`absolute left-0 top-0 h-full w-1 ${variants[variant].accent}`}></div>

  <!-- Contenido -->
  <div class="flex items-center gap-4 px-6 py-5">
    <!-- Icono -->
    {icon && (
      <div class={`flex-shrink-0 ${variants[variant].iconBg} w-14 h-14 rounded-xl flex items-center justify-center shadow-inner`}>
        <span class="text-2xl">{icon}</span>
      </div>
    )}

    <div class="flex-1">
      <p class={`text-3xl font-extrabold ${variants[variant].text} leading-snug`}>{value}</p>
      <p class="text-gray-700 text-base mt-1">{description}</p>

      {caption && (
        <span class={`inline-block mt-3 text-xs font-medium px-3 py-1 rounded-full ${variants[variant].iconBg} ${variants[variant].text}`}>
          {caption}
        </span>
      )}
    </div>
  </div>
</div>