---
import { getSortedPosts } from '../lib/posts';

const posts = (await getSortedPosts()).slice(0, 3);
---

<section class="py-16 px-6 bg-gray-50">
  <div class="container mx-auto max-w-6xl">
    <h2 class="text-3xl font-bold text-center mb-10 text-gray-800">
      Últimos
      <span class="bg-clip-text text-transparent bg-gradient-to-r from-fuchsia-600 to-purple-700">artículos</span>
    </h2>
    <div class="flex overflow-x-auto gap-6 pb-4 snap-x snap-mandatory">
      {posts.map(post => (
        <article class="min-w-[80%] sm:min-w-[45%] lg:min-w-[30%] snap-center bg-white rounded-xl border border-gray-200 shadow-md hover:shadow-lg transition group">
          <a href={`/blog/${post.slug}/`} class="block">
            <div class="relative">
              <img src={post.data.thumbnail} alt={post.data.title} class="w-full h-48 object-cover rounded-t-xl" loading="lazy" />
              <div class="absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-fuchsia-500 to-purple-600"></div>
            </div>
            <div class="p-5">
              <h3 class="text-lg font-bold text-gray-800 mb-2 group-hover:text-purple-700 transition">{post.data.title}</h3>
              <p class="text-gray-600 text-sm">{post.data.summary}</p>
            </div>
          </a>
        </article>
      ))}
    </div>
  </div>
</section>
