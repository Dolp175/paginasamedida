---
import { getSortedPosts } from '../lib/posts';

const posts = (await getSortedPosts()).slice(0, 3);
---

<section class="py-16 px-6 bg-gray-50">
  <div class="container mx-auto max-w-6xl">
    <h2 class="text-2xl font-bold mb-4">Últimos artículos</h2>
    <div class="flex overflow-x-auto gap-6 pb-4 snap-x snap-mandatory">
      {posts.map(post => (
        <article class="min-w-[80%] sm:min-w-[45%] lg:min-w-[30%] snap-center bg-white rounded-xl shadow-md border border-gray-200">
          <a href={`/blog/${post.slug}/`} class="block">
            <img src={post.data.thumbnail} alt={post.data.title} class="w-full h-48 object-cover rounded-t-xl" loading="lazy" />
            <div class="p-4">
              <h3 class="text-lg font-bold text-gray-800 mb-2">{post.data.title}</h3>
              <p class="text-gray-600 text-sm">{post.data.summary}</p>
            </div>
          </a>
        </article>
      ))}
    </div>
  </div>
</section>
