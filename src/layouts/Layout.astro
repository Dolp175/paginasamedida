---
// src/layouts/Layout.astro
import Head from '../components/Head.astro';
import Nav from '../components/Nav.astro';
import Footer from '../components/Footer.astro';
import '../styles/global.css';

const { title, description } = Astro.props;
---

<!DOCTYPE html>
<html lang="es">
<head>
  <Head title={title} description={description} />
</head>
<body class="bg-white text-gray-800 min-h-screen flex flex-col relative">
  <Nav />
  <main class="flex-grow relative z-10">
    <slot />
    <div id="footer-trigger" class="h-px"></div>
  </main>
  <Footer />
  <script is:inline>
    document.addEventListener('DOMContentLoaded', () => {
      const footer = document.getElementById('site-footer');
      const trigger = document.getElementById('footer-trigger');
      const observer = new IntersectionObserver(([entry]) => {
        footer.classList.toggle('translate-y-full', !entry.isIntersecting);
      });
      observer.observe(trigger);
    });
  </script>

  <!-- Schema.org JSON-LD -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "ProfessionalService",
      "name": "Páginas web a Medida",
      "url": "https://paginasamedida.com",
      "logo": "https://paginasamedida.com/logo.png",
      "description": "Desarrollo de páginas web a medida para negocios y profesionales.",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Avenida Glasgow 156",
        "addressLocality": "Nuevo Baztán",
        "addressRegion": "Madrid",
        "postalCode": "28514",
        "addressCountry": "ES"
      },
      "telephone": "+34623962963",
      "openingHours": "Mo-Fr 09:30-18:00",
      "priceRange": "$$",
      "sameAs": [
        "https://linkedin.com/in/jordi-martinez-joyeux",
        "https://github.com/Dolp175"
      ]
    }
  </script>
</body>
</html>